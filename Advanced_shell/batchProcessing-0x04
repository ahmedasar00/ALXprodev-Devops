#!/usr/bin/env bash

POKEMON_LIST="bulbasaur ivysaur venusaur charmander charmeleon"

OUTPUT_DIR="pokemon_data"
mkdir -p "$OUTPUT_DIR"

API_BASE="https://pokeapi.co/api/v2/pokemon"

DELAY=1

echo "Starting batch Pokémon data retrieval..."

for pokemon in $POKEMON_LIST; do
    URL="$API_BASE/$pokemon"
    OUTPUT_FILE="$OUTPUT_DIR/$pokemon.json"
    
    echo "Fetching data for $pokemon..."
    
    if curl -sS "$URL" -o "$OUTPUT_FILE"; then
        echo "Saved data to $OUTPUT_FILE ✅"
    else
        echo "Error fetching data for $pokemon ❌"
    fi
    
    sleep "$DELAY"
done

echo "Data retrieval complete."